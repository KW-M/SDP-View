{"mappings":"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","sources":["src/jsonview.bundle.js"],"sourcesContent":["var JsonView = (function (exports) {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function expandedTemplate() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = params.key,\n        size = params.size;\n    return \"\\n    <div class=\\\"line\\\">\\n      <div class=\\\"caret-icon\\\"><i class=\\\"fas fa-caret-right\\\"></i></div>\\n      <div class=\\\"json-key\\\">\".concat(key, \"</div>\\n      <div class=\\\"json-size\\\">\").concat(size, \"</div>\\n    </div>\\n  \");\n  }\n\n  function notExpandedTemplate() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = params.key,\n        value = params.value,\n        type = params.type;\n    return \"\\n    <div class=\\\"line\\\">\\n      <div class=\\\"empty-icon\\\"></div>\\n      <div class=\\\"json-key\\\">\".concat(key, \"</div>\\n      <div class=\\\"json-separator\\\">:</div>\\n      <div class=\\\"json-value json-\").concat(type, \"\\\">\").concat(value, \"</div>\\n    </div>\\n  \");\n  }\n\n  function hideNodeChildren(node) {\n    node.children.forEach(function (child) {\n      child.el.classList.add('hide');\n\n      if (child.isExpanded) {\n        hideNodeChildren(child);\n      }\n    });\n  }\n\n  function showNodeChildren(node) {\n    node.children.forEach(function (child) {\n      child.el.classList.remove('hide');\n\n      if (child.isExpanded) {\n        showNodeChildren(child);\n      }\n    });\n  }\n\n  function setCaretIconDown(node) {\n    if (node.children.length > 0) {\n      var icon = node.el.querySelector('.fas');\n\n      if (icon) {\n        icon.classList.replace('fa-caret-right', 'fa-caret-down');\n      }\n    }\n  }\n\n  function setCaretIconRight(node) {\n    if (node.children.length > 0) {\n      var icon = node.el.querySelector('.fas');\n\n      if (icon) {\n        icon.classList.replace('fa-caret-down', 'fa-caret-right');\n      }\n    }\n  }\n\n  function toggleNode(node) {\n    if (node.isExpanded) {\n      node.isExpanded = false;\n      setCaretIconRight(node);\n      hideNodeChildren(node);\n    } else {\n      node.isExpanded = true;\n      setCaretIconDown(node);\n      showNodeChildren(node);\n    }\n  }\n\n  function createContainerElement() {\n    var el = document.createElement('div');\n    el.className = 'json-container';\n    return el;\n  }\n\n  function createNodeElement(node) {\n    var el = document.createElement('div');\n\n    var getSizeString = function getSizeString(node) {\n      var len = node.children.length;\n      if (node.type === 'array') return \"[\".concat(len, \"]\");\n      if (node.type === 'object') return \"{\".concat(len, \"}\");\n      return null;\n    };\n\n    if (node.children.length > 0) {\n      el.innerHTML = expandedTemplate({\n        key: node.key,\n        size: getSizeString(node)\n      });\n      var caretEl = el.querySelector('.caret-icon');\n      caretEl.addEventListener('click', function () {\n        toggleNode(node);\n      });\n    } else {\n      el.innerHTML = notExpandedTemplate({\n        key: node.key,\n        value: node.value,\n        type: _typeof(node.value)\n      });\n    }\n\n    var lineEl = el.children[0];\n\n    if (node.parent !== null) {\n      lineEl.classList.add('hide');\n    }\n\n    lineEl.style = 'margin-left: ' + node.depth * 18 + 'px;';\n    return lineEl;\n  }\n\n  function getDataType(val) {\n    var type = _typeof(val);\n\n    if (Array.isArray(val)) type = 'array';\n    if (val === null) type = 'null';\n    return type;\n  }\n\n  function traverseTree(node, callback) {\n    callback(node);\n\n    if (node.children.length > 0) {\n      node.children.forEach(function (child) {\n        traverseTree(child, callback);\n      });\n    }\n  }\n\n  function createNode() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      key: opt.key || null,\n      parent: opt.parent || null,\n      value: opt.hasOwnProperty('value') ? opt.value : null,\n      isExpanded: opt.isExpanded || false,\n      type: opt.type || null,\n      children: opt.children || [],\n      el: opt.el || null,\n      depth: opt.depth || 0\n    };\n  }\n\n  function createSubnode(data, node) {\n    if (_typeof(data) === 'object') {\n      for (var key in data) {\n        var child = createNode({\n          value: data[key],\n          key: key,\n          depth: node.depth + 1,\n          type: getDataType(data[key]),\n          parent: node\n        });\n        node.children.push(child);\n        createSubnode(data[key], child);\n      }\n    }\n  }\n\n  function createTree(jsonData) {\n    var data = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n    var rootNode = createNode({\n      value: data,\n      key: getDataType(data),\n      type: getDataType(data)\n    });\n    createSubnode(data, rootNode);\n    return rootNode;\n  }\n\n  function renderJSON(jsonData, targetElement) {\n    var parsedData = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n    var tree = createTree(parsedData);\n    render(tree, targetElement);\n    return tree;\n  }\n\n  function render(tree, targetElement) {\n    var containerEl = createContainerElement();\n    traverseTree(tree, function (node) {\n      node.el = createNodeElement(node);\n      containerEl.appendChild(node.el);\n    });\n    targetElement.appendChild(containerEl);\n  }\n\n  function expandChildren(node) {\n    traverseTree(node, function (child) {\n      child.el.classList.remove('hide');\n      child.isExpanded = true;\n      setCaretIconDown(child);\n    });\n  }\n\n  function collapseChildren(node) {\n    traverseTree(node, function (child) {\n      child.isExpanded = false;\n      if (child.depth > node.depth) child.el.classList.add('hide');\n      setCaretIconRight(child);\n    });\n  }\n\n  exports.collapseChildren = collapseChildren;\n  exports.createTree = createTree;\n  exports.expandChildren = expandChildren;\n  exports.render = render;\n  exports.renderJSON = renderJSON;\n  exports.traverseTree = traverseTree;\n\n  return exports;\n\n}({}));\n"],"names":["JsonView","exports","_typeof","obj1","Symbol","iterator","obj","constructor","prototype","hideNodeChildren","node","children","forEach","child","el","classList","add","isExpanded","showNodeChildren","remove","setCaretIconDown","length","icon","querySelector","replace","setCaretIconRight","toggleNode","getDataType","val","type","Array","isArray","traverseTree","callback","createNode","opt","arguments","undefined","key","parent","value","hasOwnProperty","depth","createSubnode","data","push","createTree","jsonData","JSON","parse","rootNode","render","tree","targetElement","containerEl","document","createElement","className","node1","len","innerHTML","params","size","concat","expandedTemplate","addEventListener","notExpandedTemplate","lineEl","style","createNodeElement","appendChild","collapseChildren","expandChildren","renderJSON"],"version":3,"file":"index.7a3537ef.js.map"}