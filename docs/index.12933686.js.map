{"mappings":"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","sources":["src/jsonview.bundle.js"],"sourcesContent":["var JsonView = (function (exports) {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function expandedTemplate() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = params.key,\n        size = params.size;\n    return \"\\n    <div class=\\\"line\\\">\\n      <div class=\\\"caret-icon\\\"><i class=\\\"fas fa-caret-right\\\"></i></div>\\n      <div class=\\\"json-key\\\">\".concat(key, \"</div>\\n      <div class=\\\"json-size\\\">\").concat(size, \"</div>\\n    </div>\\n  \");\n  }\n\n  function notExpandedTemplate() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var key = params.key,\n        value = params.value,\n        type = params.type;\n    return \"\\n    <div class=\\\"line\\\">\\n      <div class=\\\"empty-icon\\\"></div>\\n      <div class=\\\"json-key\\\">\".concat(key, \"</div>\\n      <div class=\\\"json-separator\\\">:</div>\\n      <div class=\\\"json-value json-\").concat(type, \"\\\">\").concat(value, \"</div>\\n    </div>\\n  \");\n  }\n\n  function hideNodeChildren(node) {\n    node.children.forEach(function (child) {\n      child.el.classList.add('hide');\n\n      if (child.isExpanded) {\n        hideNodeChildren(child);\n      }\n    });\n  }\n\n  function showNodeChildren(node) {\n    node.children.forEach(function (child) {\n      child.el.classList.remove('hide');\n\n      if (child.isExpanded) {\n        showNodeChildren(child);\n      }\n    });\n  }\n\n  function setCaretIconDown(node) {\n    if (node.children.length > 0) {\n      var icon = node.el.querySelector('.fas');\n\n      if (icon) {\n        icon.classList.replace('fa-caret-right', 'fa-caret-down');\n      }\n    }\n  }\n\n  function setCaretIconRight(node) {\n    if (node.children.length > 0) {\n      var icon = node.el.querySelector('.fas');\n\n      if (icon) {\n        icon.classList.replace('fa-caret-down', 'fa-caret-right');\n      }\n    }\n  }\n\n  function toggleNode(node) {\n    if (node.isExpanded) {\n      node.isExpanded = false;\n      setCaretIconRight(node);\n      hideNodeChildren(node);\n    } else {\n      node.isExpanded = true;\n      setCaretIconDown(node);\n      showNodeChildren(node);\n    }\n  }\n\n  function createContainerElement() {\n    var el = document.createElement('div');\n    el.className = 'json-container';\n    return el;\n  }\n\n  function createNodeElement(node) {\n    var el = document.createElement('div');\n\n    var getSizeString = function getSizeString(node) {\n      var len = node.children.length;\n      if (node.type === 'array') return \"[\".concat(len, \"]\");\n      if (node.type === 'object') return \"{\".concat(len, \"}\");\n      return null;\n    };\n\n    if (node.children.length > 0) {\n      el.innerHTML = expandedTemplate({\n        key: node.key,\n        size: getSizeString(node)\n      });\n      var caretEl = el.querySelector('.caret-icon');\n      caretEl.addEventListener('click', function () {\n        toggleNode(node);\n      });\n    } else {\n      el.innerHTML = notExpandedTemplate({\n        key: node.key,\n        value: node.value,\n        type: _typeof(node.value)\n      });\n    }\n\n    var lineEl = el.children[0];\n\n    if (node.parent !== null) {\n      lineEl.classList.add('hide');\n    }\n\n    lineEl.style = 'margin-left: ' + node.depth * 18 + 'px;';\n    return lineEl;\n  }\n\n  function getDataType(val) {\n    var type = _typeof(val);\n\n    if (Array.isArray(val)) type = 'array';\n    if (val === null) type = 'null';\n    return type;\n  }\n\n  function traverseTree(node, callback) {\n    callback(node);\n\n    if (node.children.length > 0) {\n      node.children.forEach(function (child) {\n        traverseTree(child, callback);\n      });\n    }\n  }\n\n  function createNode() {\n    var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n      key: opt.key || null,\n      parent: opt.parent || null,\n      value: opt.hasOwnProperty('value') ? opt.value : null,\n      isExpanded: opt.isExpanded || false,\n      type: opt.type || null,\n      children: opt.children || [],\n      el: opt.el || null,\n      depth: opt.depth || 0\n    };\n  }\n\n  function createSubnode(data, node) {\n    if (_typeof(data) === 'object') {\n      for (var key in data) {\n        var child = createNode({\n          value: data[key],\n          key: key,\n          depth: node.depth + 1,\n          type: getDataType(data[key]),\n          parent: node\n        });\n        node.children.push(child);\n        createSubnode(data[key], child);\n      }\n    }\n  }\n\n  function createTree(jsonData) {\n    var data = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n    var rootNode = createNode({\n      value: data,\n      key: getDataType(data),\n      type: getDataType(data)\n    });\n    createSubnode(data, rootNode);\n    return rootNode;\n  }\n\n  function renderJSON(jsonData, targetElement) {\n    var parsedData = typeof jsonData === 'string' ? JSON.parse(jsonData) : jsonData;\n    var tree = createTree(parsedData);\n    render(tree, targetElement);\n    return tree;\n  }\n\n  function render(tree, targetElement) {\n    var containerEl = createContainerElement();\n    traverseTree(tree, function (node) {\n      node.el = createNodeElement(node);\n      containerEl.appendChild(node.el);\n    });\n    targetElement.appendChild(containerEl);\n  }\n\n  function expandChildren(node) {\n    traverseTree(node, function (child) {\n      child.el.classList.remove('hide');\n      child.isExpanded = true;\n      setCaretIconDown(child);\n    });\n  }\n\n  function collapseChildren(node) {\n    traverseTree(node, function (child) {\n      child.isExpanded = false;\n      if (child.depth > node.depth) child.el.classList.add('hide');\n      setCaretIconRight(child);\n    });\n  }\n\n  exports.collapseChildren = collapseChildren;\n  exports.createTree = createTree;\n  exports.expandChildren = expandChildren;\n  exports.render = render;\n  exports.renderJSON = renderJSON;\n  exports.traverseTree = traverseTree;\n\n  return exports;\n\n}({}));\n"],"names":[],"version":3,"file":"index.12933686.js.map","sourceRoot":"/__parcel_source_root/"}